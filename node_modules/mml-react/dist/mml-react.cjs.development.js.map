{"version":3,"file":"mml-react.cjs.development.js","sources":["../node_modules/regenerator-runtime/runtime.js","../src/parser/MMLTag.ts","../src/components/Card.tsx","../src/components/Icon.tsx","../src/components/CardHeader.tsx","../src/components/CardBody.tsx","../src/components/ButtonList.tsx","../src/components/AddToCalendar.tsx","../src/components/Button.tsx","../src/components/Carousel.tsx","../src/components/CarouselItem.tsx","../src/components/Col.tsx","../src/components/Error.tsx","../src/components/Image.tsx","../src/components/Input.tsx","../src/components/Progress.tsx","../src/components/Loading.tsx","../src/components/MD.tsx","../src/components/Number.tsx","../src/components/Row.tsx","../src/components/DatePicker/DatePickerSelect.tsx","../src/components/DatePicker/DatePickerDate.tsx","../src/components/DatePicker/DatePickerTime.tsx","../src/components/DatePicker/DatePicker.tsx","../src/components/Scheduler.tsx","../src/components/Success.tsx","../src/components/Text.tsx","../src/parser/converters.tsx","../src/parser/tree.ts","../src/parser/parser.ts","../src/mml/MML.tsx"],"sourcesContent":["/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","import { XmlElement, XmlText } from '@rgrove/parse-xml';\n\nfunction isXmlElement(node: XmlElement | XmlText): node is XmlElement {\n  return !!(node as XmlElement).children;\n}\n\n/**\n * MMLTag - Xml tag converted to this MMLTag\n */\nexport class MMLTag {\n  name: string;\n  node: XmlElement | XmlText;\n  attributes: Record<string, string>;\n  children?: MMLTag[];\n  key?: string;\n\n  constructor(name: string, node: XmlElement | XmlText, children?: MMLTag[]) {\n    this.name = name;\n    this.node = node;\n    this.attributes = (this.node as XmlElement).attributes || {};\n    this.children = children;\n  }\n\n  getText() {\n    if (this.node.type === 'text') return this.node.text;\n    else if (isXmlElement(this.node) && this.node.children.length) return (this.node.children[0] as XmlText).text;\n    return '';\n  }\n\n  initialState() {\n    const { name, value } = this.attributes;\n    if (name) return { [name]: value };\n    return {};\n  }\n}\n","import React, { FC, ReactNode } from 'react';\n\nexport type CardProps = {\n  children?: ReactNode;\n  /** Additional card class name */\n  className?: string;\n};\n\nexport const Card: FC<CardProps> = ({ className = '', children }) => {\n  return <div className={`mml-card ${className}`}>{children}</div>;\n};\n","import React, { FC } from 'react';\n\nexport type IconProps = {\n  /** The name of the material icon, see https://material.io/resources/icons/ */\n  name: string;\n};\n\nexport const Icon: FC<IconProps> = ({ name }) => {\n  return <i className=\"mml-icon material-icons\">{name}</i>;\n};\n","import React, { FC } from 'react';\n\nimport { Icon } from './Icon';\n\nexport type CardHeaderProps = {\n  /** Header text */\n  text: string;\n  /** The name of the material icon, see https://material.io/resources/icons/ */\n  icon?: string;\n  /** Additional card class name */\n  className?: string;\n};\n\nexport const CardHeader: FC<CardHeaderProps> = ({ text, icon = '', className = '' }) => {\n  return (\n    <div className={`mml-card-header ${className}`}>\n      {icon && <Icon name={icon} />}\n      <span className=\"mml-card-header__text\">{text}</span>\n    </div>\n  );\n};\n","import React, { FC, ReactNode } from 'react';\n\nexport type CardBodyProps = {\n  children?: ReactNode;\n  /** Additional card class name */\n  className?: string;\n};\n\nexport const CardBody: FC<CardBodyProps> = ({ className = '', children }) => {\n  return <div className={`mml-card-body ${className}`}>{children}</div>;\n};\n","import React, { FC, ReactElement } from 'react';\nimport { ButtonProps } from './Button';\n\nexport type ButtonListProps = {\n  /** A list of buttons */\n  children?: ReactElement<ButtonProps>[] | ReactElement<ButtonProps>;\n  /** Button style variant */\n  variant?: 'floating';\n};\n\n/**\n * A list of buttons\n */\nexport const ButtonList: FC<ButtonListProps> = ({ children, variant = '' }) => {\n  return (\n    <div className={`mml-btnlist ${variant === 'floating' ? ' mml-btnlist--floating' : 'mml-btnlist--grounded'}`}>\n      {children}\n    </div>\n  );\n};\n","import React, { FC, ReactElement, SyntheticEvent } from 'react';\nimport dayjs from 'dayjs';\n\nimport { Card } from './Card';\nimport { CardHeader } from './CardHeader';\nimport { CardBody } from './CardBody';\nimport { ButtonList } from './ButtonList';\n\ntype SvgIconProps = {\n  /** The SVG path, calibrated for a 24 sized viewBox (as in Material Icons) */\n  path: string;\n};\n\n/**\n * Utility to have custom svg icons outside the `material-icons` system provided by the Icon component\n * Use case internal to this library is the AddToCalendar component which needs brand icons which are not\n * included in [the default material-icons set and probably never will be](https://git.io/Jk9yH)\n */\nconst SvgIcon: FC<SvgIconProps> = ({ path }) => (\n  <i className=\"mml-icon\">\n    <svg className=\"mml-icon__svg\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n      <path d={path} />\n    </svg>\n  </i>\n);\n\n/** Icon path from https://materialdesignicons.com/ */\nconst IconGoogle = (\n  <SvgIcon path=\"M21.35 11.1h-9.17v2.73h6.5c-.33 3.8-3.5 5.44-6.5 5.44C8.36 19.27 5 16.25 5 12c0-4.1 3.2-7.27 7.2-7.27 3.1 0 4.9 1.97 4.9 1.97L19 4.72S16.56 2 12.1 2C6.42 2 2.03 6.8 2.03 12c0 5.05 4.13 10 10.22 10 5.35 0 9.25-3.67 9.25-9.1 0-1.15-.15-1.8-.15-1.8h0z\" />\n);\n\n/** Icon path from https://materialdesignicons.com/ */\nconst IconMicrosoft = (\n  <SvgIcon path=\"M3 12V6.75l6-1.32v6.48L3 12m17-9v8.75l-10 .15V5.2L20 3M3 13l6 .1v6.8l-6-1.15V13m17 .25V22l-10-1.9v-7l10 .15z\" />\n);\n\n/** Icon path from https://materialdesignicons.com/ */\nconst IconApple = (\n  <SvgIcon path=\"M18.7 19.5c-.83 1.24-1.7 2.45-3.05 2.47-1.34.03-1.77-.8-3.3-.8-1.53 0-2 .77-3.27.82-1.3.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.4c.87-1.52 2.43-2.48 4.12-2.5 1.28-.02 2.5.87 3.3.87.78 0 2.26-1.07 3.8-.9.65.03 2.47.26 3.64 1.98-.1.06-2.17 1.28-2.15 3.8.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.2-.7.85-1.83 1.5-2.95 1.42-.15-1.15.4-2.35 1.05-3.1z\" />\n);\n\nfunction isMobile() {\n  const ua = typeof navigator !== 'undefined' ? navigator.userAgent : '';\n  if (!ua) return false;\n  const mobileRE = /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series[46]0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i;\n  if (mobileRE.test(ua)) return true;\n  if (\n    typeof navigator !== 'undefined' &&\n    navigator.maxTouchPoints > 1 &&\n    ua.indexOf('Macintosh') !== -1 &&\n    ua.indexOf('Safari') !== -1\n  )\n    return true;\n  return false;\n}\n\n// @ts-ignore (expect-error breaks in GH actions) TODO: replace deprecated method\nconst isIE = (typeof window !== 'undefined' && window.navigator.msSaveOrOpenBlob && window.Blob) as boolean;\n\nconst getCurrentURL = () => {\n  if (typeof window !== 'undefined') return window.location.href;\n  return '';\n};\n\nexport type AddToCalendarEvent = {\n  /**\n   * The title for the calendar entry, if a string it must be parseable as `Date`\n   */\n  start: string | Date;\n  /**\n   * The start time for the calendar entry, if a string it must be parseable as `Date`\n   */\n  end: string | Date;\n  /**\n   * The end time for the calendar entry\n   */\n  title: string;\n  /**\n   * The optional location for the calendar entry\n   */\n  location?: string;\n  /**\n   * The optional description for the calendar entry\n   */\n  description?: string;\n};\n\nexport type AddToCalendarProps = AddToCalendarEvent & {\n  /**\n   * Additional element class name\n   * @default ''\n   */\n  className?: string;\n};\n\n// we infer this from the the const CALENDAR_SERVICES, we might keep this\n// here if we want to make the calendar services configurable\n// type AddToCalendarService = {\n//   id: string;\n//   label: string;\n//   Icon?: FC;\n// };\ntype CalendarID = 'google' | 'apple' | 'outlook' | 'outlookcom';\n\nconst CALENDAR_SERVICES: Array<{ id: CalendarID; label: string; Icon: ReactElement }> = [\n  { id: 'google', label: 'Google', Icon: IconGoogle },\n  { id: 'apple', label: 'Apple Calendar', Icon: IconApple },\n  { id: 'outlook', label: 'Outlook', Icon: IconMicrosoft },\n  { id: 'outlookcom', label: 'Outlook.com', Icon: IconMicrosoft },\n];\n\n/**\n * Format time\n *\n * Adapted from the `moment` way of [react-add-to-calendar](https://git.io/JkWol)\n * to the dayjs way\n */\nfunction formatTime(date: string | Date, id: CalendarID) {\n  return dayjs(date).format(id === 'outlookcom' ? 'YYYY-MM-DDTHH:mm:ss' : 'YYYYMMDDTHHmmss') + 'Z';\n}\n\n/**\n * Create query string with given parameters\n *\n * It checks that the parameter value is not falsy\n */\nfunction createQueryString(params: Record<string, string | undefined> = {}) {\n  return Object.keys(params).reduce((acc, key) => {\n    const value = params[key];\n    if (value) acc += `&${key}=${encodeURIComponent(value)}`;\n    return acc;\n  }, '');\n}\n\n/**\n * Build calendar URL\n *\n * Resources:\n * - [SO question about Google](https://stackoverflow.com/q/22757908)\n * - [docs about outlook.com format](https://git.io/JkWp5)\n * - [addevent wrapper SaaS](https://www.addevent.com/)\n */\nfunction buildUrl(event: AddToCalendarEvent, id: CalendarID) {\n  const { start, end, title, location, description } = event;\n  const startFormatted = formatTime(start, id);\n  const endFormatted = formatTime(end, id);\n\n  if (id === 'google')\n    return `https://calendar.google.com/calendar/render?action=TEMPLATE&dates=${startFormatted}/${endFormatted}${createQueryString(\n      { location, text: title, details: description },\n    )}`;\n\n  if (id === 'outlookcom')\n    return `https://outlook.live.com/owa/?rru=addevent${createQueryString({\n      startdt: startFormatted,\n      enddt: endFormatted,\n      subject: title,\n      location,\n      body: description,\n      allday: 'false', // TODO: calculate it?\n    })}&path=/calendar/view/Month`;\n\n  let url = [\n    'BEGIN:VCALENDAR',\n    'VERSION:2.0',\n    'BEGIN:VEVENT',\n    'URL:' + getCurrentURL(),\n    'DTSTART:' + startFormatted,\n    'DTEND:' + endFormatted,\n    'SUMMARY:' + title,\n    'DESCRIPTION:' + description,\n    'LOCATION:' + location,\n    'END:VEVENT',\n    'END:VCALENDAR',\n  ].join('\\n');\n\n  if (!isIE && isMobile()) url = encodeURI('data:text/calendar;charset=utf8,' + url);\n\n  return url;\n}\n\n/**\n * AddToCalendar widget that supports google, apple and outlook calendars\n */\nexport const AddToCalendar: FC<AddToCalendarProps> = ({\n  title,\n  start,\n  end,\n  className = '',\n  location = '',\n  description = '',\n}) => {\n  const event = { start: start, end: end, title, location, description };\n\n  function handleLinkClick(event: SyntheticEvent<HTMLAnchorElement>) {\n    event.preventDefault();\n    const url = event.currentTarget.getAttribute('href') as string;\n\n    if (!isMobile() && (url.startsWith('data') || url.startsWith('BEGIN'))) {\n      const filename = 'download.ics';\n      const blob = new Blob([url], { type: 'text/calendar;charset=utf-8' });\n\n      if (isIE) {\n        // @ts-ignore (expect-error breaks in GH actions) TODO: replace deprecated method\n        window.navigator.msSaveOrOpenBlob(blob, filename);\n      } else {\n        // many browsers do not properly support downloading data URIs\n        // (even with \"download\" attribute in use) so this solution\n        // ensures the event will download cross-browser\n        const link = document.createElement('a');\n        link.href = window.URL.createObjectURL(blob);\n        link.setAttribute('download', filename);\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n      }\n    } else {\n      window.open(url, '_blank');\n    }\n  }\n\n  return (\n    <Card className={`mml-add-to-calendar ${className}`}>\n      <CardHeader icon=\"date_range\" text=\"Add to My Calendar\" />\n      <CardBody>\n        <ButtonList>\n          {CALENDAR_SERVICES.map(({ id, label, Icon }) => (\n            <a\n              key={id}\n              className={`mml-btn ${Icon ? 'mml-btn--with-icon' : ''}`}\n              onClick={handleLinkClick}\n              href={buildUrl(event, id)}\n              target=\"_blank\"\n              rel=\"nofollow noreferrer noopener\"\n            >\n              {Icon} {label}\n            </a>\n          ))}\n        </ButtonList>\n      </CardBody>\n    </Card>\n  );\n};\n","import React, { FC, SyntheticEvent } from 'react';\nimport { sanitizeUrl } from '@braintree/sanitize-url';\n\nimport { Icon } from './Icon';\n\nexport type ButtonProps = {\n  /** Additional button class name */\n  className?: string;\n  /** The text to display in the button */\n  text: string;\n  /** The name of the button */\n  name?: string;\n  /** The value of the button */\n  value?: string;\n  /** If the button should open a link use this prop */\n  url?: string;\n  /** Button style variant */\n  variant?: 'floating';\n  /** Optional button icon name to display besides the text (from [material icons](https://material.io/resources/icons/)) */\n  icon?: string;\n};\n\n/**\n * Button can be used to open a URL, submit the form or trigger a select when clicked\n */\nexport const Button: FC<ButtonProps> = ({ className = '', text, name, value, url = '', variant, icon }) => {\n  if (icon) {\n    className += text ? ' mml-btn--with-icon' : ' mml-btn--icon';\n  } else {\n    className += ' mml-btn--text';\n  }\n  className += variant === 'floating' ? ' mml-btn--floating' : ' mml-btn--grounded';\n\n  if (url)\n    return (\n      <a className={`mml-btn ${className}`} href={sanitizeUrl(url)} target=\"_blank\" rel=\"nofollow noreferrer noopener\">\n        {icon && <Icon name={icon} />}\n        {text}\n      </a>\n    );\n\n  return (\n    <button\n      className={`mml-btn ${className}`}\n      type=\"submit\"\n      name={name}\n      value={value}\n      onClick={(event: SyntheticEvent) => {\n        const input = document.createElement('input');\n        input.type = 'hidden';\n        input.name = name || '';\n        input.value = value || '';\n        event.currentTarget?.closest('form')?.appendChild(input);\n      }}\n    >\n      {icon && <Icon name={icon} />}\n      {text}\n    </button>\n  );\n};\n","import React, { FC, ReactElement, Children, cloneElement } from 'react';\nimport { CarouselItemProps } from './CarouselItem';\n\nexport type CarouselProps = {\n  /**\n   * The only children of the Carousel are the carousel item.\n   */\n  children?: ReactElement<CarouselItemProps>[] | ReactElement<CarouselItemProps>;\n  /**\n   * Base slide width set on the `Carousel` component level, it can be overriden for each CarouselItem by setting\n   * a `width` attribute on the `<item>` component.\n   *\n   * It can be set to either a percentage, e.g. `slideWidth=\"40%\"` or to a pixel based value `slideWidth=\"200px\"`.\n   *\n   * @default '120px'\n   */\n  slideWidth?: string;\n  /**\n   * Additional carousel class name\n   */\n  className?: string;\n};\n\n/**\n * A carousel is a nice mobile friendly way of letting a user select something\n *\n * Super simple scroll based carousel slightly inspired by [react-scroll-snap-slider](https://github.com/lifarl/react-scroll-snap-slider)\n */\nexport const Carousel: FC<CarouselProps> = ({ children, slideWidth = '120px', className = '' }) => {\n  return (\n    <div className={`mml-carousel ${className}`}>\n      <div className=\"mml-carousel__track\">\n        <div className=\"mml-carousel__slides\">\n          {Children.map(children as ReactElement, (child) =>\n            cloneElement(child, { className: 'mml-carousel__slide', slideWidth }),\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n","import React, { FC, ReactNode } from 'react';\nimport { CarouselProps } from './Carousel';\n\nexport type CarouselItemProps = {\n  /**\n   * The carousel item inner components can contain any type of nodes, such as buttons, images, etc.\n   */\n  children?: ReactNode;\n  /**\n   * Determines the slide width, it can be set to either a percentage, e.g. `width=\"40%\"` or to a pixel based value `width=\"200px\"`.\n   * It defaults to the `slideWidth` prop set at the `<carousel>` level\n   *\n   * @default ''\n   */\n  width?: string;\n  /**\n   * Additional carousel item class name\n   */\n  className?: string;\n} & Pick<CarouselProps, 'slideWidth'>;\n\n/**\n * A carousel item\n */\nexport const CarouselItem: FC<CarouselItemProps> = ({ children, slideWidth, width = '', className = '' }) => {\n  const finalWidth = width || slideWidth;\n  return (\n    <div className={`mml-carousel-item ${className}`} style={{ flex: `0 0 ${finalWidth}`, minWidth: finalWidth }}>\n      {children}\n    </div>\n  );\n};\n","import React, { FC, ReactNode } from 'react';\n\nexport type ColProps = {\n  /** The column children can be anything */\n  children?: ReactNode;\n  /** The width of the column (grid is by default made of 12 columns, you can change it with scss variable `$mml-grid-columns`) */\n  width?: number | 'auto';\n  /** The offset for the column */\n  offset?: number;\n  /** Align horizontally */\n  align?: 'left' | 'center' | 'right';\n};\n\n/**\n * A grid column\n * TODO: Consider renaming this element\n */\nexport const Col: FC<ColProps> = ({ children, width = 12, offset = 0, align = 'left' }) => {\n  let classNames = `mml-col-${width}`;\n  if (offset) classNames = classNames + ` mml-offset-${offset}`;\n  classNames = classNames + ` mml-align-${align}`;\n\n  return <div className={classNames}>{children}</div>;\n};\n","import React, { FC } from 'react';\n\nexport type ErrorProps = {\n  /** The error message */\n  error?: string;\n};\n\nexport const Error: FC<ErrorProps> = ({ error = '' }) => {\n  if (!error) return null;\n  return <span className=\"mml-error\">{error}</span>;\n};\n","import React, { FC } from 'react';\n\nexport type ImageProps = {\n  /** The url to load the image from */\n  src: string;\n  /** The alt tag for the image */\n  alt?: string;\n  /** The title tag for the image */\n  title?: string;\n  /** Additional class name */\n  className?: string;\n};\n\nexport const Image: FC<ImageProps> = ({ src, alt = '', title = '', className = '' }) => {\n  return <img className={`mml-image ${className}`.trim()} src={src} alt={alt} title={title} />;\n};\n","import React, { FC, useState } from 'react';\n\nexport type InputProps = {\n  /** The name of the input */\n  name: string;\n  /** The label of the input (it is presented as a `CardHeader` */\n  label?: string;\n  /** Initial value of the input */\n  value?: string;\n  /** The input type */\n  type?: string;\n  /** The placeholder of the input field */\n  placeholder?: string;\n};\n\n/**\n * Text input element. Usually you'll want to rely on regular messages\n */\nexport const Input: FC<InputProps> = ({ name, label, value = '', type = 'text', placeholder = '' }) => {\n  const [state, setState] = useState(value);\n  const id = `mml-${name}`;\n\n  return (\n    <>\n      {label && (\n        <label className=\"mml-card-header\" htmlFor={id}>\n          <span className=\"mml-card-header__text\">{label}</span>\n        </label>\n      )}\n      <input\n        id={id}\n        className=\"mml-input\"\n        name={name}\n        value={state}\n        type={type}\n        placeholder={placeholder}\n        onChange={(event) => setState(event.target.value)}\n      />\n    </>\n  );\n};\n","import React, { FC } from 'react';\n\nexport type ProgressProps = {\n  /**\n   * The size of the progress spinner sets the diameter of the animated circle, it allows to override a specific progress size despite the default CSS value\n   * @default 'SCSS: $mml-progress-width: 1em'\n   */\n  size?: string | number;\n  /**\n   * The thickness of the circle, (it sets the `stroke-wdith` svg attribute)\n   * @default 3.6\n   */\n  thickness?: string | number;\n  /**\n   * The color of the progress circle, it allows to override a specific progress color despite the default CSS value\n   * @default 'SCSS: $mml-progress-color: #bbb'\n   */\n  color?: string;\n};\n\nconst SIZE = 44;\n\nexport const Progress: FC<ProgressProps> = ({ size, thickness = 3.6, color }) => {\n  thickness = typeof thickness === 'string' ? parseFloat(thickness) : thickness;\n  // interpret a digit only string or a number as a pixel value otherwise leave\n  // it as astring, it might be a value like `2em` or `120%`\n  size = (typeof size === 'string' && /^\\d+$/.test(size)) || typeof size === 'number' ? size + 'px' : size;\n\n  return (\n    <span className=\"mml-progress\" role=\"progressbar\" style={{ width: size, height: size, color }}>\n      <svg className=\"mml-progress__svg\" viewBox={`${SIZE / 2} ${SIZE / 2} ${SIZE} ${SIZE}`}>\n        <circle\n          className=\"mml-progress__circle\"\n          cx={SIZE}\n          cy={SIZE}\n          r={(SIZE - thickness) / 2}\n          fill=\"none\"\n          strokeWidth={thickness}\n        />\n      </svg>\n    </span>\n  );\n};\n","import React, { FC } from 'react';\nimport { Progress, ProgressProps } from './Progress';\n\nexport type LoadingProps = {\n  /**\n   * Flag that indicates whether the component should show\n   * @default false\n   */\n  loading?: boolean;\n  /**\n   * Optional text to display besides the progress indicator\n   */\n  text?: string;\n  /**\n   * Additional element class name\n   * @default ''\n   */\n  className?: string;\n} & ProgressProps;\n\n/**\n * Loading indicator\n */\nexport const Loading: FC<LoadingProps> = ({ className = '', loading = false, text, size, thickness, color }) => {\n  if (!loading) return null;\n\n  return (\n    <div className={`mml-loading ${className}`}>\n      <Progress {...{ size, thickness, color }} />\n      {text && <div className=\"mml-loading__text\">{text}</div>}\n    </div>\n  );\n};\n","import React, { FC, ReactElement } from 'react';\nimport ReactMarkdown from 'react-markdown';\nimport * as linkify from 'linkifyjs';\n\nexport const truncate = (input: string, length: number, end = '...') => {\n  if (input.length > length) return `${input.substring(0, length - end.length)}${end}`;\n  return input;\n};\n\nconst matchMarkdownLinks = (message: string) => {\n  const regexMdLinks = /\\[([^[]+)\\](\\(.*\\))/gm;\n  const matches = message.match(regexMdLinks);\n  const singleMatch = /\\[([^[]+)\\]\\((.*)\\)/;\n\n  const links = matches\n    ? matches.map((match) => {\n        const i = singleMatch.exec(match);\n        return i && i[2];\n      })\n    : [];\n  return links;\n};\n\nconst MDLinkRender: FC<{ href: string; children: ReactElement }> = (props) => {\n  if (!props.href || (!props.href.startsWith('http') && !props.href.startsWith('mailto:'))) return props.children;\n  return (\n    <a href={props.href} target=\"_blank\" rel=\"nofollow noreferrer noopener\">\n      {props.children}\n    </a>\n  );\n};\n\nconst markDownRenderers = { link: MDLinkRender };\n\nconst allowedMarkups: ReactMarkdown.NodeType[] = [\n  'html',\n  // @ts-ignore\n  'root',\n  'text',\n  'break',\n  'paragraph',\n  'emphasis',\n  'strong',\n  'link',\n  'list',\n  'listItem',\n  'code',\n  'inlineCode',\n  'blockquote',\n];\n\nexport type MDProps = {\n  /** The markdown text */\n  text: string;\n};\n\n/**\n * MD renders a given text as markdown\n */\nexport const MD: FC<MDProps> = ({ text }) => {\n  if (!text) return null;\n\n  let newText = text;\n  let markdownLinks = matchMarkdownLinks(newText);\n  // extract all valid links/emails within text and replace it with proper markup\n  linkify.find(newText).forEach(({ type, href, value }) => {\n    // check if message is already  markdown\n    const noParsingNeeded = markdownLinks && markdownLinks.filter((text) => text?.indexOf(href) !== -1);\n    if (noParsingNeeded.length > 0) return;\n\n    const displayLink = type === 'email' ? value : truncate(value.replace(/(http(s?):\\/\\/)?(www\\.)?/, ''), 20);\n    newText = newText.replace(value, `[${displayLink}](${encodeURI(href)})`);\n  });\n\n  return (\n    <div className=\"mml-md\">\n      <ReactMarkdown\n        allowedTypes={allowedMarkups}\n        renderers={markDownRenderers}\n        source={newText}\n        escapeHtml={true}\n        unwrapDisallowed={true}\n        transformLinkUri={(uri) => (uri.startsWith('app://') ? uri : ReactMarkdown.uriTransformer(uri))}\n      />\n    </div>\n  );\n};\n","import React, { useState, FC } from 'react';\nimport { Icon } from './Icon';\n\nexport type NumberProps = {\n  /** The name of the number */\n  name: string;\n  /** The initial integer value */\n  value: string | number;\n};\n\n/**\n * Mobile friendly number input\n */\nexport const Number: FC<NumberProps> = ({ name, value }) => {\n  const [state, setState] = useState(parseInt(`${value}`, 10) || 0);\n\n  return (\n    <div className=\"mml-number\">\n      <input name={name} value={state} type=\"hidden\" />\n      <span className=\"mml-btn mml-btn--floating mml-btn--icon mml-number__dec\" onClick={() => setState(state - 1)}>\n        <Icon name=\"remove\" />\n      </span>\n      <span className=\"mml-number__count\">{state}</span>\n      <span className=\"mml-btn mml-btn--floating mml-btn--icon mml-number__inc\" onClick={() => setState(state + 1)}>\n        <Icon name=\"add\" />\n      </span>\n    </div>\n  );\n};\n","import React, { FC, ReactElement } from 'react';\n\nimport { ColProps } from './Col';\n\nexport type RowProps = {\n  /** The children of a row must be columns */\n  children?: ReactElement<ColProps>[] | ReactElement<ColProps>;\n};\n\nexport const Row: FC<RowProps> = ({ children }) => {\n  return <div className=\"mml-row\">{children}</div>;\n};\n","import React, { useState, useRef, useCallback, useEffect, FC } from 'react';\nimport { Virtuoso } from 'react-virtuoso';\nimport { Dayjs } from 'dayjs';\nimport { DatePickerProps } from './DatePicker';\n\nexport type DatePickerSelectProps = DatePickerSelectReadyProps & {\n  itemClassName?: string;\n  getItemData: (props: DatePickerSelectItemProps) => DatePickerItemData;\n};\n\n/**\n * Basic shape of DatePickerSelect extended by wrapper components as DatePickerDate and DatePickerTime\n */\nexport type DatePickerSelectReadyProps = Pick<DatePickerProps, 'icalFilter'> & {\n  format: string;\n  interval: number;\n  onChange: (value: Dayjs) => void;\n  value: Dayjs;\n};\n\n/**\n * Inside Virtuoso select items need an idx to indicate their position\n */\nexport type DatePickerSelectItemProps = {\n  format: string;\n  idx: number;\n  interval: number;\n  value: Dayjs;\n};\n\n/**\n * The data needed by each datepicker select item\n */\nexport type DatePickerItemData = {\n  displayValue: string;\n  idx: number;\n  isSelected: (currentValue: Dayjs) => boolean;\n  value: Dayjs;\n};\n\nconst ITEMS_PER_PAGE = 40;\nconst VERTICAL_COMPENSATION = 3;\nconst INITIAL_INDEX = ITEMS_PER_PAGE;\nconst VIRTUOSO_START_INDEX = 10000;\n\n/**\n * DatePicker select\n */\nexport const DatePickerSelect: FC<DatePickerSelectProps> = (props) => {\n  const { onChange, icalFilter, getItemData, itemClassName, interval, format, value } = props;\n\n  // Generate date items\n  const generateItems = useCallback(\n    (quantity: number, firstIdx: number) => {\n      return Array(quantity)\n        .fill(true)\n        .map((_, idx) => getItemData({ interval, format, value, idx: firstIdx + idx }))\n        .filter((newItem) => !icalFilter || (icalFilter && icalFilter(newItem.value)));\n    },\n    [interval, format, value, icalFilter, getItemData],\n  );\n\n  const [items, setItems] = useState<DatePickerItemData[]>(generateItems(ITEMS_PER_PAGE * 2, -ITEMS_PER_PAGE));\n  const [firstItemIndex, setFirstItemIndex] = useState(VIRTUOSO_START_INDEX);\n\n  const initialIndexOffset = useRef(INITIAL_INDEX);\n  const [selectedIdx, setSelectedIdx] = useState<number | null>(null);\n\n  const handleClick = useCallback(\n    (item: DatePickerItemData) => {\n      onChange(item.value);\n\n      const firstItemIndex = initialIndexOffset.current || 0;\n      let nextFirstItemIdx = firstItemIndex - INITIAL_INDEX - ITEMS_PER_PAGE;\n      const missingTopItems = nextFirstItemIdx - item.idx + VERTICAL_COMPENSATION;\n\n      // prepend date items, when the selected date's index is too low we prepend\n      // some date options so that it will remain vertically centered in the middle\n      if (missingTopItems >= 0) {\n        nextFirstItemIdx -= missingTopItems;\n        initialIndexOffset.current -= firstItemIndex - missingTopItems;\n        setItems((items) => [...generateItems(missingTopItems, nextFirstItemIdx), ...items]);\n      }\n      setSelectedIdx(item.idx);\n    },\n    [setItems, generateItems, initialIndexOffset, onChange],\n  );\n\n  const appendItems = useCallback(\n    (lastItemIndex) => {\n      setItems((items) => [...items, ...generateItems(ITEMS_PER_PAGE, lastItemIndex)]);\n    },\n    [setItems, generateItems],\n  );\n\n  // @see https://git.io/JIUuo\n  const prependItems = useCallback(() => {\n    const firstItemIndex = initialIndexOffset.current || 0;\n    const nextFirstItemIdx = firstItemIndex - INITIAL_INDEX - ITEMS_PER_PAGE;\n    if (initialIndexOffset) {\n      initialIndexOffset.current -= ITEMS_PER_PAGE;\n    }\n    setItems((items) => [...generateItems(ITEMS_PER_PAGE, nextFirstItemIdx), ...items]);\n    setFirstItemIndex(firstItemIndex - ITEMS_PER_PAGE);\n    return false;\n  }, [setItems, generateItems, initialIndexOffset]);\n\n  // on mount check if there is a selected value and save its idx in state\n  useEffect(() => {\n    if (value) {\n      let initialSelectedIdx = null;\n      for (let i = 0; i < items.length; i++) {\n        if (items[i].isSelected(value)) {\n          initialSelectedIdx = items[i].idx;\n          break;\n        }\n      }\n      setSelectedIdx(initialSelectedIdx);\n    }\n  }, []); // eslint-disable-line\n\n  return (\n    <Virtuoso\n      data={items}\n      firstItemIndex={firstItemIndex}\n      itemContent={(_, item) => (\n        <div\n          className={\n            itemClassName + ` mml-datepicker__item ${item.idx === selectedIdx ? 'mml-datepicker__item--selected' : ''}`\n          }\n          onClick={() => handleClick(item)}\n        >\n          {item.displayValue}\n        </div>\n      )}\n      endReached={appendItems}\n      startReached={prependItems}\n    />\n  );\n};\n","import React, { FC } from 'react';\nimport dayjs, { Dayjs } from 'dayjs';\n\nimport { DatePickerProps } from './DatePicker';\nimport { DatePickerSelect, DatePickerSelectReadyProps, DatePickerSelectProps } from './DatePickerSelect';\n\nexport type DatePickerDateProps = DatePickerSelectReadyProps & {\n  format: NonNullable<DatePickerProps['dateFormat']>;\n  interval: NonNullable<DatePickerProps['dateInterval']>;\n};\n\n/**\n * Get item data\n */\nconst getItemData: DatePickerSelectProps['getItemData'] = (props) => {\n  const { idx, interval, value, format } = props;\n  const newValue =\n    idx >= 0\n      ? dayjs(value).add(idx * (interval * 24), 'hour')\n      : dayjs(value).subtract(idx * (interval * 24) * -1, 'hour');\n\n  return {\n    idx,\n    value: newValue,\n    displayValue: dayjs(newValue).format(format),\n    isSelected: (currentValue: Dayjs) =>\n      dayjs(newValue).isSame(interval === 1 ? dayjs(currentValue) : dayjs(currentValue).add(interval, 'day'), 'date'),\n  };\n};\n\n/**\n * DatePicker date\n */\nexport const DatePickerDate: FC<DatePickerDateProps> = (props) => (\n  <div className=\"mml-datepicker__select mml-datepicker__date\">\n    <DatePickerSelect {...props} itemClassName=\"mml-datepicker__item--day\" getItemData={getItemData} />\n  </div>\n);\n","import React, { FC } from 'react';\nimport dayjs, { Dayjs } from 'dayjs';\nimport isBetween from 'dayjs/plugin/isBetween';\n\nimport { DatePickerProps } from './DatePicker';\nimport { DatePickerSelect, DatePickerSelectProps, DatePickerSelectReadyProps } from './DatePickerSelect';\n\ndayjs.extend(isBetween);\n\nexport type DatePickerTimeProps = DatePickerSelectReadyProps & {\n  format: NonNullable<DatePickerProps['timeFormat']>;\n  interval: NonNullable<DatePickerProps['timeInterval']>;\n};\n\n/**\n * Get item data\n */\nconst getItemData: DatePickerSelectProps['getItemData'] = (props) => {\n  const { idx, interval, value, format } = props;\n  const newValue =\n    idx >= 0 ? dayjs(value).add(idx * interval, 'minute') : dayjs(value).subtract(idx * -1 * interval, 'minute');\n\n  return {\n    idx,\n    value: newValue,\n    displayValue: dayjs(newValue).format(format),\n    isSelected: (currentValue: Dayjs) =>\n      dayjs(newValue).isBetween(currentValue, dayjs(currentValue).add(interval - 1, 'minute'), 'minute', '[]'),\n  };\n};\n\n/**\n * DatePicker time\n */\nexport const DatePickerTime: FC<DatePickerTimeProps> = (props) => (\n  <div className=\"mml-datepicker__select mml-datepicker__time\">\n    <DatePickerSelect {...props} itemClassName=\"mml-datepicker__item--time\" getItemData={getItemData} />\n  </div>\n);\n","import React, { useState, FC } from 'react';\nimport { Dayjs } from 'dayjs';\n\nimport { DatePickerDate } from './DatePickerDate';\nimport { DatePickerTime } from './DatePickerTime';\n\nexport type DatePickerProps = {\n  /** The scheduler name attached to hidden input */\n  name: string;\n  /** The selected date time */\n  selected: Dayjs;\n  /** Interval in days for time selection */\n  dateInterval: number;\n  /**  Interval in minutes for time selection */\n  timeInterval: number;\n  /** Show only the date picker(without time picker) */\n  fullDay: boolean;\n  /** Date format, see [dayjs docs](https://day.js.org/docs/en/display/format) */\n  dateFormat: string;\n  /** Time format, see [dayjs docs](https://day.js.org/docs/en/display/format) */\n  timeFormat: string;\n  /** Filter dates, it should return a boolean */\n  icalFilter: (date: Dayjs) => boolean;\n};\n\nexport const DatePicker: FC<DatePickerProps> = ({\n  name,\n  selected,\n  dateInterval,\n  timeInterval,\n  dateFormat,\n  timeFormat,\n  fullDay,\n  icalFilter,\n}) => {\n  const [date, setDate] = useState(selected);\n\n  const handleChangeDate = (value: Dayjs) => {\n    setDate((prevDate) =>\n      prevDate\n        .set('date', value.get('date'))\n        .set('month', value.get('month'))\n        .set('year', value.get('year')),\n    );\n  };\n\n  const handleChangeTime = (value: Dayjs) => {\n    setDate((prevDate) => prevDate.set('minute', value.get('minute')).set('hour', value.get('hour')));\n  };\n\n  return (\n    <div className={`mml-datepicker mml-datepicker--${fullDay ? 'single' : 'double'}`}>\n      <input name={name} value={date.toISOString()} type=\"hidden\" />\n\n      <DatePickerDate\n        icalFilter={icalFilter}\n        format={dateFormat}\n        value={date}\n        onChange={handleChangeDate}\n        interval={dateInterval}\n      />\n\n      {!fullDay && (\n        <DatePickerTime\n          icalFilter={icalFilter}\n          format={timeFormat}\n          value={date}\n          onChange={handleChangeTime}\n          interval={timeInterval}\n        />\n      )}\n    </div>\n  );\n};\n","import React, { useState, useEffect, FC } from 'react';\n// @ts-ignore\nimport IcalExpander from 'ical-expander';\nimport dayjs, { Dayjs } from 'dayjs';\n\nimport { DatePicker } from './DatePicker';\nimport { Card } from './Card';\nimport { CardHeader } from './CardHeader';\nimport { CardBody } from './CardBody';\nimport { Error as ErrorComponent } from './Error';\nimport { Loading as LoadingComponent } from './Loading';\n\nexport type SchedulerProps = {\n  /**\n   * The scheduler name attached to hidden input\n   */\n  name: string;\n  /**\n   * The selected date, it must be a valid parseable date string\n   */\n  selected?: string;\n  /**\n   * Interval in days for day selection\n   * @default 1\n   */\n  dateInterval?: number;\n  /**\n   * Interval in minutes for time selection\n   * @default 30\n   */\n  timeInterval?: number;\n  /**\n   * Date format, see [dayjs docs](https://day.js.org/docs/en/display/format)\n   * @default 'ddd MMM DD'\n   */\n  dateFormat?: string;\n  /**\n   * Time format, see [dayjs docs](https://day.js.org/docs/en/display/format)\n   * @default 'hh:mm A'\n   */\n  timeFormat?: string;\n  /**\n   * The duration of the event in minutes, used to check availability with ical\n   * @default 30\n   */\n  duration?: number;\n  /**\n   * ICal availability public URL\n   */\n  icalAvailability?: string;\n  /**\n   * Show only the date picker(without time picker) if events lasts a whole day\n   * @default false\n   */\n  fullDay?: boolean;\n};\n\nexport type ICalFilter = (start?: Dayjs) => boolean;\n\nconst setupIcalFilter = async (icalURL: string, duration: number) => {\n  const response = await fetch(icalURL, { method: 'GET', redirect: 'follow', credentials: 'same-origin' });\n  const body = await response.text();\n  if (!response.ok) throw new Error(body);\n\n  const icalExpander = new IcalExpander({ ics: body, maxIterations: 10 });\n\n  return () => (start?: Dayjs) => {\n    if (!start) return true;\n    const { events } = icalExpander.between(start.toDate(), start.add(duration, 'minute').toDate());\n    return !events.length;\n  };\n};\n\nexport const Scheduler: FC<SchedulerProps> = ({\n  name,\n  selected,\n  icalAvailability,\n  duration = 30,\n  dateInterval = 1,\n  timeInterval = 30,\n  dateFormat = 'ddd MMM DD',\n  timeFormat = 'hh:mm A',\n  fullDay = false,\n}) => {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [icalFilter, setIcalFilter] = useState<ICalFilter>(() => () => true);\n\n  useEffect(() => {\n    if (!icalAvailability) return;\n\n    setLoading(true);\n    setupIcalFilter(icalAvailability, duration)\n      .then(setIcalFilter)\n      .catch((err) => {\n        console.warn('loading ical failed', { icalAvailability, err });\n        setError('iCal availability could not be loaded');\n      })\n      .finally(() => setLoading(false));\n  }, [icalAvailability, duration]);\n\n  return (\n    <Card className=\"mml-scheduler\">\n      <CardHeader icon=\"date_range\" text=\"Scheduler\" />\n      <CardBody>\n        {error && !loading && <ErrorComponent error={`Failed, error: ${error}`} />}\n        {!error && loading && <LoadingComponent loading={true} text=\"Loading availability\" />}\n        {!error && !loading && (\n          <DatePicker\n            name={name}\n            selected={selected ? dayjs(selected) : dayjs().startOf('hour')}\n            dateInterval={dateInterval}\n            timeInterval={timeInterval}\n            dateFormat={dateFormat}\n            timeFormat={timeFormat}\n            fullDay={fullDay}\n            icalFilter={icalFilter}\n          />\n        )}\n      </CardBody>\n    </Card>\n  );\n};\n","import React, { FC } from 'react';\n\nexport type SuccessProps = { success?: string };\n\nexport const Success: FC<SuccessProps> = ({ success }) => {\n  if (success) return <div className=\"mml-success\">{success}</div>;\n\n  return null;\n};\n","import React, { FC } from 'react';\n\nexport type TextProps = {\n  /** Text to render */\n  text: string;\n  /** Additional class name */\n  className?: string;\n};\n\n/**\n * Simple paragraph text element\n */\nexport const Text: FC<TextProps> = ({ text, className = '' }) => {\n  return <div className={`mml-text ${className}`.trim()}>{text}</div>;\n};\n","import React, { ReactElement } from 'react';\n\nimport { MMLTag } from './MMLTag';\nimport {\n  AddToCalendar,\n  Button,\n  ButtonList,\n  Carousel,\n  CarouselItem,\n  Col,\n  Icon,\n  Image,\n  Input,\n  MD,\n  Scheduler,\n  Text,\n  Row,\n  Number,\n} from '../components';\n\nexport type ConvertorType = (tag: MMLTag, children?: ReactElement[]) => ReactElement;\n\n/**\n * The converters maps MML tags to react nodes\n * Every converter is passed the MML tag as well as the children (as React nodes)\n */\nexport const converters = {\n  button: (tag: MMLTag) => {\n    return (\n      <Button\n        {...tag.attributes}\n        key={tag.key}\n        text={tag.getText()}\n        name={tag.attributes.name}\n        value={tag.attributes.value}\n      />\n    );\n  },\n  button_list: (tag: MMLTag, children?: JSX.Element[]) => {\n    return (\n      <ButtonList {...tag.attributes} key={tag.key}>\n        {children}\n      </ButtonList>\n    );\n  },\n  input: (tag: MMLTag) => {\n    return <Input {...tag.attributes} key={tag.key} name={tag.attributes.name} value={tag.attributes.value} />;\n  },\n  add_to_calendar: (tag: MMLTag) => {\n    return (\n      <AddToCalendar\n        {...tag.attributes}\n        key={tag.key}\n        title={tag.attributes.title}\n        start={tag.attributes.start}\n        end={tag.attributes.end}\n      />\n    );\n  },\n  col: (tag: MMLTag, children?: JSX.Element[]) => {\n    return (\n      <Col {...tag.attributes} key={tag.key}>\n        {children}\n      </Col>\n    );\n  },\n  row: (tag: MMLTag, children?: JSX.Element[]) => {\n    return (\n      <Row {...tag.attributes} key={tag.key}>\n        {children}\n      </Row>\n    );\n  },\n  icon: (tag: MMLTag) => {\n    return <Icon {...tag.attributes} key={tag.key} name={tag.attributes.name} />;\n  },\n  image: (tag: MMLTag) => {\n    return <Image {...tag.attributes} key={tag.key} src={tag.attributes.src} />;\n  },\n  md: (tag: MMLTag) => {\n    return <MD {...tag.attributes} key={tag.key} text={tag.getText()} />;\n  },\n  text: (tag: MMLTag) => {\n    return <Text {...tag.attributes} key={tag.key} text={tag.getText()} />;\n  },\n  scheduler: (tag: MMLTag) => {\n    return (\n      <Scheduler\n        {...tag.attributes}\n        key={tag.key}\n        name={tag.attributes.name}\n        dateInterval={parseInt(tag.attributes.dateInterval, 10) || 1} // default to 1 day\n        timeInterval={parseInt(tag.attributes.timeInterval, 10) || 30} // default to 30 minutes\n        duration={parseInt(tag.attributes.duration, 10) || 30} // default to 30 minutes\n        selected={tag.attributes.selected}\n        fullDay={tag.attributes.fullDay === 'true'}\n        icalAvailability={tag.attributes.icalAvailability}\n      />\n    );\n  },\n  carousel: (tag: MMLTag, children?: JSX.Element[]) => {\n    return (\n      <Carousel slideWidth={tag.attributes.slideWidth} {...tag.attributes} key={tag.key}>\n        {children}\n      </Carousel>\n    );\n  },\n  item: (tag: MMLTag, children?: JSX.Element[]) => {\n    return (\n      <CarouselItem {...tag.attributes} key={tag.key}>\n        {children}\n      </CarouselItem>\n    );\n  },\n  number: (tag: MMLTag) => {\n    return <Number {...tag.attributes} key={tag.key} name={tag.attributes.name} value={tag.attributes.value} />;\n  },\n};\n","import { ReactElement } from 'react';\nimport { XmlElement } from '@rgrove/parse-xml';\n\nimport { MMLTag } from './MMLTag';\nimport { converters as defaultConverters, ConvertorType } from './converters';\n\n/** The type attribute of <mml> determine how its inner content is visually displayed */\nexport type RootType = 'card';\n\n/**\n * Tree - The tree object for MML tags\n */\nexport class Tree {\n  converters: Record<string, ConvertorType>;\n  node: XmlElement;\n  children: MMLTag[];\n  reactElements: ReactElement[];\n  name?: string;\n  type?: RootType;\n\n  constructor(node: XmlElement, children: MMLTag[], customConvertors?: Record<string, ConvertorType>) {\n    this.converters = { ...defaultConverters, ...customConvertors };\n    this.node = node;\n    this.children = children;\n    this.reactElements = this.toReact();\n\n    this.name = node.attributes.name;\n    this.type = node.attributes.type as RootType;\n  }\n\n  /**\n   * convert all nodes to react and maintain the hierarchy\n   */\n  toReact(parent: Tree | MMLTag = this) {\n    const reactNodes: ReactElement[] = [];\n\n    (parent.children || []).forEach((child, i) => {\n      const converter = this.converters[child.name];\n      if (!converter || !Object.hasOwnProperty.call(this.converters, child.name)) {\n        throw Error(\n          `Converter not found for tag ${child.name}, Available converters are ${Object.keys(this.converters)}`,\n        );\n      }\n\n      const children = this.toReact(child);\n      child.key = `tag-${child.name}-position-${i}`;\n      reactNodes.push(converter(child, children));\n    });\n\n    return reactNodes;\n  }\n}\n","import parseXml from '@rgrove/parse-xml';\n\nimport { ConvertorType } from './converters';\nimport { MMLTag } from './MMLTag';\nimport { Tree } from './tree';\n\n/**\n * SourceToXML - Takes an MML string and converts it to XML nodes\n *\n * @param {string} source MML tag string\n *\n * @returns {array} an Array of XML nodes\n */\nexport function SourceToXML(source: string) {\n  let src = source.trim();\n  // the wrapping MML tags are optional, for parsing simplicity we automatically add them if they are not already there\n  if (!src.startsWith('<mml')) src = `<mml>${source}</mml>`;\n\n  // emulate HTML handling of & escaping\n  const unescapedAmps = /&(?!amp;|lt;|gt;)/g;\n  src = src.replace(unescapedAmps, '&amp;');\n\n  // convert the string to XML nodes\n  // this library is relatively lightweight and doesn't do a ton of validation\n  return parseXml(src);\n}\n\nfunction convertNodes(nodes: parseXml.XmlNode[]) {\n  return nodes.reduce((acc: MMLTag[], node: parseXml.XmlNode) => {\n    const element = node as parseXml.XmlElement;\n    let children;\n    if (element.children) children = convertNodes(element.children);\n\n    let { name } = element;\n    if ((node as parseXml.XmlText).type === 'text') {\n      if ((node as parseXml.XmlText).text.trim().length) name = 'text';\n      else return acc; // skip empty text elements\n    }\n\n    acc.push(new MMLTag(name, node as parseXml.XmlElement | parseXml.XmlText, children));\n    return acc;\n  }, []);\n}\n\n/**\n * XMLtoMMLTree - Takes an array of XML nodes and converts it into an MML Tree\n *\n * @param {type} XMLNodes an array of XML nodes\n *\n * @returns {MMLTree} The MML tree\n */\nexport function XMLtoMMLTree(document: parseXml.XmlDocument, customConvertors?: Record<string, ConvertorType>) {\n  if (!document || !document.children || !document.children.length) throw new Error('bad input');\n\n  const mmlNode = document.children[0] as parseXml.XmlElement;\n  if (mmlNode.name !== 'mml') throw new Error('missing mml tag');\n\n  return new Tree(mmlNode, convertNodes(mmlNode.children), customConvertors);\n}\n\n/**\n * Takes an MML string and returns an MML Tree\n *\n * @param {string} source MML tag string\n *\n *  @returns {Tree} An MML Tree\n */\nexport function Parse(source: string, customConvertors?: Record<string, ConvertorType>) {\n  const XMLNodes = SourceToXML(source);\n  return XMLtoMMLTree(XMLNodes, customConvertors);\n}\n","import React, { useState, useMemo, useCallback, FC, ComponentType, FormEvent } from 'react';\n\nimport { Parse, ConvertorType } from '../parser';\nimport { Loading as LoadingComponent, LoadingProps } from '../components/Loading';\nimport { Error as ErrorComponent, ErrorProps } from '../components/Error';\nimport { Success as SuccessComponent, SuccessProps } from '../components/Success';\n\nexport type MMLProps = {\n  /** The MML string source to render */\n  source: string;\n  /** The convert config allows you to overwrite the MML to react conversion */\n  converters?: Record<string, ConvertorType>;\n  /** The submit callback whenever a form is submitted, submit is expected to return a promise */\n  onSubmit?: (data: Record<string, any>) => Promise<any> | any;\n  /** Select a theme from built in available themes, it will be added as a className to the container(root) div */\n  theme?:\n    | 'base-dark'\n    | 'messaging-light'\n    | 'messaging-dark'\n    | 'team-light'\n    | 'team-dark'\n    | 'commerce-light'\n    | 'commerce-dark'\n    | 'livestream-light'\n    | 'livestream-dark'\n    | string;\n  /** Custom classname, appended to wrapper classname */\n  className?: string;\n  /** The Loading component, accepts null to render nothing */\n  Loading?: ComponentType<LoadingProps> | null;\n  /** The error component, accepts null to render nothing */\n  Error?: ComponentType<ErrorProps> | null;\n  /** The success message component, accepts null to render nothing */\n  Success?: ComponentType<SuccessProps> | null;\n};\n\n/**\n * MML root component\n */\nexport const MML: FC<MMLProps> = ({\n  source,\n  onSubmit,\n  converters,\n  theme = '',\n  className = '',\n  Loading = LoadingComponent,\n  Error = ErrorComponent,\n  Success = SuccessComponent,\n}) => {\n  const [error, setError] = useState('');\n  const [submitState, setSubmitState] = useState({ loading: false, error: '', success: '' });\n  const tree = useMemo(() => {\n    try {\n      return Parse(source, converters);\n    } catch (e) {\n      console.warn('mml parsing error: ', source, e);\n      setError(\"This chat message has invalid formatting and can't be shown\");\n      return null;\n    }\n  }, [source, converters]);\n\n  const handleSubmit = useCallback(\n    async (event: FormEvent<HTMLFormElement>) => {\n      event.preventDefault();\n\n      const state: Record<string, any> = {};\n      if (tree?.name) state.mml_name = tree.name; // include mml_name in the data\n      new FormData(event.currentTarget).forEach((value, key) => {\n        state[key] = value;\n      });\n\n      if (!onSubmit) return console.warn('Forgot to pass onSubmit prop to <MML/>? payload:', state);\n\n      try {\n        setSubmitState({ loading: true, error: '', success: '' });\n        await onSubmit(state);\n        setSubmitState({ loading: false, error: '', success: 'submitted' });\n      } catch (e) {\n        setSubmitState({ loading: false, error: 'Failed to send the request. Please try again.', success: '' });\n      }\n    },\n    [onSubmit, tree],\n  );\n\n  return (\n    <div className={`mml-container ${theme} ${className}`} data-testid=\"mml-container\">\n      {error ? (\n        <div className=\"mml-wrap\">{Error && <Error error={error} />}</div>\n      ) : (\n        <form onSubmit={handleSubmit} className=\"mml-wrap\" data-testid=\"mml-form\">\n          {tree?.type ? <div className=\"mml-card\">{tree?.reactElements}</div> : tree?.reactElements}\n          {submitState.loading && Loading && <Loading loading={submitState.loading} />}\n          {submitState.success && Success && <Success success={submitState.success} />}\n          {submitState.error && Error && <Error error={submitState.error} />}\n        </form>\n      )}\n    </div>\n  );\n};\n"],"names":["undefined","isXmlElement","node","children","MMLTag","name","attributes","getText","type","text","length","initialState","value","Card","className","React","Icon","CardHeader","icon","CardBody","ButtonList","variant","SvgIcon","path","xmlns","viewBox","d","IconGoogle","IconMicrosoft","IconApple","isMobile","ua","navigator","userAgent","mobileRE","test","maxTouchPoints","indexOf","isIE","window","msSaveOrOpenBlob","Blob","getCurrentURL","location","href","CALENDAR_SERVICES","id","label","formatTime","date","dayjs","format","createQueryString","params","Object","keys","reduce","acc","key","encodeURIComponent","buildUrl","event","start","end","title","description","startFormatted","endFormatted","details","startdt","enddt","subject","body","allday","url","join","encodeURI","AddToCalendar","handleLinkClick","preventDefault","currentTarget","getAttribute","startsWith","filename","blob","link","document","createElement","URL","createObjectURL","setAttribute","appendChild","click","removeChild","open","map","onClick","target","rel","Button","sanitizeUrl","input","closest","Carousel","slideWidth","Children","child","cloneElement","CarouselItem","width","finalWidth","style","flex","minWidth","Col","offset","align","classNames","Error","error","Image","src","alt","trim","Input","placeholder","useState","state","setState","htmlFor","onChange","SIZE","Progress","size","thickness","color","parseFloat","role","height","cx","cy","r","fill","strokeWidth","Loading","loading","truncate","substring","matchMarkdownLinks","message","regexMdLinks","matches","match","singleMatch","links","i","exec","MDLinkRender","props","markDownRenderers","allowedMarkups","MD","newText","markdownLinks","linkify","forEach","noParsingNeeded","filter","displayLink","replace","ReactMarkdown","allowedTypes","renderers","source","escapeHtml","unwrapDisallowed","transformLinkUri","uri","uriTransformer","Number","parseInt","Row","ITEMS_PER_PAGE","VERTICAL_COMPENSATION","INITIAL_INDEX","VIRTUOSO_START_INDEX","DatePickerSelect","icalFilter","getItemData","itemClassName","interval","generateItems","useCallback","quantity","firstIdx","Array","_","idx","newItem","items","setItems","firstItemIndex","setFirstItemIndex","initialIndexOffset","useRef","selectedIdx","setSelectedIdx","handleClick","item","current","nextFirstItemIdx","missingTopItems","appendItems","lastItemIndex","prependItems","useEffect","initialSelectedIdx","isSelected","Virtuoso","data","itemContent","displayValue","endReached","startReached","newValue","add","subtract","currentValue","isSame","DatePickerDate","extend","isBetween","DatePickerTime","DatePicker","selected","dateInterval","timeInterval","dateFormat","timeFormat","fullDay","setDate","handleChangeDate","prevDate","set","get","handleChangeTime","toISOString","setupIcalFilter","icalURL","duration","fetch","method","redirect","credentials","response","ok","icalExpander","IcalExpander","ics","maxIterations","between","toDate","events","Scheduler","icalAvailability","setLoading","setError","setIcalFilter","then","err","console","warn","ErrorComponent","LoadingComponent","startOf","Success","success","Text","converters","button","tag","button_list","add_to_calendar","col","row","image","md","scheduler","carousel","number","Tree","customConvertors","defaultConverters","reactElements","toReact","parent","reactNodes","converter","hasOwnProperty","call","push","SourceToXML","unescapedAmps","parseXml","convertNodes","nodes","element","XMLtoMMLTree","mmlNode","Parse","XMLNodes","MML","onSubmit","theme","SuccessComponent","submitState","setSubmitState","tree","useMemo","e","handleSubmit","mml_name","FormData"],"mappings":"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"}