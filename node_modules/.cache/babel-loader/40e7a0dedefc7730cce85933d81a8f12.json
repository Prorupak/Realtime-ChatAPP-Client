{"ast":null,"code":"import React, { useCallback, useEffect, useState } from 'react';\nimport { isChannel } from './utils';\nimport { Avatar } from '../Avatar/Avatar';\nimport { useBreakpoint } from '../Message/hooks/useBreakpoint';\nimport { useTranslationContext } from '../../context/TranslationContext';\n\nvar DefaultDropdownContainer = function (props) {\n  var focusedUser = props.focusedUser,\n      results = props.results,\n      _a = props.SearchResultItem,\n      SearchResultItem = _a === void 0 ? DefaultSearchResultItem : _a,\n      selectResult = props.selectResult;\n  return React.createElement(\"div\", null, results.map(function (result, index) {\n    return React.createElement(SearchResultItem, {\n      focusedUser: focusedUser,\n      index: index,\n      key: index,\n      result: result,\n      selectResult: selectResult\n    });\n  }));\n};\n\nvar DefaultSearchResultItem = function (props) {\n  var _a;\n\n  var focusedUser = props.focusedUser,\n      index = props.index,\n      result = props.result,\n      selectResult = props.selectResult;\n  var focused = focusedUser === index;\n\n  if (isChannel(result)) {\n    var channel_1 = result;\n    return React.createElement(\"div\", {\n      className: \"str-chat__channel-search-result \" + (focused ? 'focused' : ''),\n      onClick: function () {\n        return selectResult(channel_1);\n      }\n    }, React.createElement(\"div\", {\n      className: 'result-hashtag'\n    }, \"#\"), React.createElement(\"p\", {\n      className: 'channel-search__result-text'\n    }, (_a = channel_1.data) === null || _a === void 0 ? void 0 : _a.name));\n  } else {\n    return React.createElement(\"div\", {\n      className: \"str-chat__channel-search-result \" + (focused ? 'focused' : ''),\n      onClick: function () {\n        return selectResult(result);\n      }\n    }, React.createElement(Avatar, {\n      image: result.image,\n      user: result\n    }), result.name || result.id);\n  }\n};\n\nexport var SearchResults = function (props) {\n  var _a = props.DropdownContainer,\n      DropdownContainer = _a === void 0 ? DefaultDropdownContainer : _a,\n      popupResults = props.popupResults,\n      results = props.results,\n      searching = props.searching,\n      SearchEmpty = props.SearchEmpty,\n      SearchResultsHeader = props.SearchResultsHeader,\n      SearchLoading = props.SearchLoading,\n      _b = props.SearchResultItem,\n      SearchResultItem = _b === void 0 ? DefaultSearchResultItem : _b,\n      selectResult = props.selectResult;\n  var t = useTranslationContext('SearchResults').t;\n\n  var _c = useState(),\n      focusedUser = _c[0],\n      setFocusedUser = _c[1];\n\n  var device = useBreakpoint().device;\n  var containerStyle = popupResults && device === 'full' ? 'popup' : 'inline';\n\n  var ResultsContainer = function (_a) {\n    var children = _a.children;\n    return React.createElement(\"div\", {\n      className: \"str-chat__channel-search-container \" + containerStyle\n    }, children);\n  };\n\n  var handleKeyDown = useCallback(function (event) {\n    if (event.key === 'ArrowUp') {\n      setFocusedUser(function (prevFocused) {\n        if (prevFocused === undefined) return 0;\n        return prevFocused === 0 ? results.length - 1 : prevFocused - 1;\n      });\n    }\n\n    if (event.key === 'ArrowDown') {\n      setFocusedUser(function (prevFocused) {\n        if (prevFocused === undefined) return 0;\n        return prevFocused === results.length - 1 ? 0 : prevFocused + 1;\n      });\n    }\n\n    if (event.key === 'Enter') {\n      event.preventDefault();\n\n      if (focusedUser !== undefined) {\n        selectResult(results[focusedUser]);\n        return setFocusedUser(undefined);\n      }\n    }\n  }, [focusedUser]);\n  useEffect(function () {\n    document.addEventListener('keydown', handleKeyDown, false);\n    return function () {\n      return document.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [handleKeyDown]);\n\n  if (searching) {\n    return React.createElement(ResultsContainer, null, SearchLoading ? React.createElement(SearchLoading, null) : React.createElement(\"div\", {\n      className: 'str-chat__channel-search-container-searching'\n    }, t('Searching...')));\n  }\n\n  if (!results.length) {\n    return React.createElement(ResultsContainer, null, SearchEmpty ? React.createElement(SearchEmpty, null) : React.createElement(\"div\", {\n      className: 'str-chat__channel-search-container-empty'\n    }, t('No results found')));\n  }\n\n  return React.createElement(ResultsContainer, null, SearchResultsHeader && React.createElement(SearchResultsHeader, null), React.createElement(DropdownContainer, {\n    focusedUser: focusedUser,\n    results: results,\n    SearchResultItem: SearchResultItem,\n    selectResult: selectResult\n  }));\n};","map":{"version":3,"sources":["/home/rupak/Desktop/Project/Chat Application/chatApp_client/node_modules/stream-chat-react/dist/components/ChannelSearch/SearchResults.js"],"names":["React","useCallback","useEffect","useState","isChannel","Avatar","useBreakpoint","useTranslationContext","DefaultDropdownContainer","props","focusedUser","results","_a","SearchResultItem","DefaultSearchResultItem","selectResult","createElement","map","result","index","key","focused","channel_1","className","onClick","data","name","image","user","id","SearchResults","DropdownContainer","popupResults","searching","SearchEmpty","SearchResultsHeader","SearchLoading","_b","t","_c","setFocusedUser","device","containerStyle","ResultsContainer","children","handleKeyDown","event","prevFocused","undefined","length","preventDefault","document","addEventListener","removeEventListener"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useState } from 'react';\nimport { isChannel } from './utils';\nimport { Avatar } from '../Avatar/Avatar';\nimport { useBreakpoint } from '../Message/hooks/useBreakpoint';\nimport { useTranslationContext } from '../../context/TranslationContext';\nvar DefaultDropdownContainer = function (props) {\n    var focusedUser = props.focusedUser, results = props.results, _a = props.SearchResultItem, SearchResultItem = _a === void 0 ? DefaultSearchResultItem : _a, selectResult = props.selectResult;\n    return (React.createElement(\"div\", null, results.map(function (result, index) { return (React.createElement(SearchResultItem, { focusedUser: focusedUser, index: index, key: index, result: result, selectResult: selectResult })); })));\n};\nvar DefaultSearchResultItem = function (props) {\n    var _a;\n    var focusedUser = props.focusedUser, index = props.index, result = props.result, selectResult = props.selectResult;\n    var focused = focusedUser === index;\n    if (isChannel(result)) {\n        var channel_1 = result;\n        return (React.createElement(\"div\", { className: \"str-chat__channel-search-result \" + (focused ? 'focused' : ''), onClick: function () { return selectResult(channel_1); } },\n            React.createElement(\"div\", { className: 'result-hashtag' }, \"#\"),\n            React.createElement(\"p\", { className: 'channel-search__result-text' }, (_a = channel_1.data) === null || _a === void 0 ? void 0 : _a.name)));\n    }\n    else {\n        return (React.createElement(\"div\", { className: \"str-chat__channel-search-result \" + (focused ? 'focused' : ''), onClick: function () { return selectResult(result); } },\n            React.createElement(Avatar, { image: result.image, user: result }),\n            result.name || result.id));\n    }\n};\nexport var SearchResults = function (props) {\n    var _a = props.DropdownContainer, DropdownContainer = _a === void 0 ? DefaultDropdownContainer : _a, popupResults = props.popupResults, results = props.results, searching = props.searching, SearchEmpty = props.SearchEmpty, SearchResultsHeader = props.SearchResultsHeader, SearchLoading = props.SearchLoading, _b = props.SearchResultItem, SearchResultItem = _b === void 0 ? DefaultSearchResultItem : _b, selectResult = props.selectResult;\n    var t = useTranslationContext('SearchResults').t;\n    var _c = useState(), focusedUser = _c[0], setFocusedUser = _c[1];\n    var device = useBreakpoint().device;\n    var containerStyle = popupResults && device === 'full' ? 'popup' : 'inline';\n    var ResultsContainer = function (_a) {\n        var children = _a.children;\n        return (React.createElement(\"div\", { className: \"str-chat__channel-search-container \" + containerStyle }, children));\n    };\n    var handleKeyDown = useCallback(function (event) {\n        if (event.key === 'ArrowUp') {\n            setFocusedUser(function (prevFocused) {\n                if (prevFocused === undefined)\n                    return 0;\n                return prevFocused === 0 ? results.length - 1 : prevFocused - 1;\n            });\n        }\n        if (event.key === 'ArrowDown') {\n            setFocusedUser(function (prevFocused) {\n                if (prevFocused === undefined)\n                    return 0;\n                return prevFocused === results.length - 1 ? 0 : prevFocused + 1;\n            });\n        }\n        if (event.key === 'Enter') {\n            event.preventDefault();\n            if (focusedUser !== undefined) {\n                selectResult(results[focusedUser]);\n                return setFocusedUser(undefined);\n            }\n        }\n    }, [focusedUser]);\n    useEffect(function () {\n        document.addEventListener('keydown', handleKeyDown, false);\n        return function () { return document.removeEventListener('keydown', handleKeyDown); };\n    }, [handleKeyDown]);\n    if (searching) {\n        return (React.createElement(ResultsContainer, null, SearchLoading ? (React.createElement(SearchLoading, null)) : (React.createElement(\"div\", { className: 'str-chat__channel-search-container-searching' }, t('Searching...')))));\n    }\n    if (!results.length) {\n        return (React.createElement(ResultsContainer, null, SearchEmpty ? (React.createElement(SearchEmpty, null)) : (React.createElement(\"div\", { className: 'str-chat__channel-search-container-empty' }, t('No results found')))));\n    }\n    return (React.createElement(ResultsContainer, null,\n        SearchResultsHeader && React.createElement(SearchResultsHeader, null),\n        React.createElement(DropdownContainer, { focusedUser: focusedUser, results: results, SearchResultItem: SearchResultItem, selectResult: selectResult })));\n};\n"]},"metadata":{},"sourceType":"module"}